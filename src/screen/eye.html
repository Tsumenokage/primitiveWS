<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="css/neutral.css"/>

    <title>Projet Cherry</title>
</head>

<body bgcolor="black">
	
	<form>
	
	<div id="cadre">
		<ul id="sContent">
		
			<svg>
			
			<!-- Definition de l'effet de flou -->
			<defs>
				<filter id="f1" x="0" y="0">
					<feGaussianBlur in="SourceGraphic" stdDeviation="5" />
					
				</filter>
				
				<filter id="f2" x="0" y="0">
					<feGaussianBlur in="SourceGraphic" stdDeviation="1" />
					
				</filter>
				
			</defs>
			</svg>

			<li class="superpose">
				<svg id="oeilGauche"  height="30%" width="40%">
					<ellipse id="oeilGaucheCouleur" cx="50%" cy="50%" rx="30%" ry="50%" style="fill:blue;" filter="url(#f1)" />
				</svg> 
			</li>
			
			<li class="superpose">
				<svg id="oeilDroit"  height="30%" width="40%">
					<ellipse id="oeilDroitCouleur" cx="50%" cy="50%" rx="30%" ry="50%" style="fill:blue" filter="url(#f1)" />
				</svg> 
				
			</li>
			
			<li class="superpose">
				<svg id="pupilleGauche"  height="30%" width="40%">
					<ellipse cx="50%" cy="50%" rx="10%" ry="15%" style="fill:#000d1a;" filter="url(#f2)" />
				</svg> 
			</li>
			
			
			<li class="superpose">
				<svg id="pupilleDroit"  height="30%" width="40%">
					<ellipse cx="50%" cy="50%" rx="10%" ry="15%" style="fill:#000d1a;" filter="url(#f2)"/>
				</svg> 
				
			</li>
			
			<li class="superpose">
				<svg id="masquePaupiereSupGauche"  height="30%" width="50%">
					<ellipse cx="50%" cy="50%" rx="30%" ry="50%" style="fill:black;" />
				</svg> 
			</li>
			
			<li class="superpose">
				<svg id="masquePaupiereSupDroit"  height="30%" width="50%">
					<ellipse cx="50%" cy="50%" rx="30%" ry="50%" style="fill:black;" />
				</svg> 
			</li>
			
			<li class="superpose">
				<svg id="masquePaupiereInfGauche"  height="30%" width="50%">
					<ellipse cx="50%" cy="50%" rx="30%" ry="50%" style="fill:black;" />
				</svg> 
			</li>
			
			<li class="superpose">
				<svg id="masquePaupiereInfDroit"  height="30%" width="50%">
					<ellipse cx="50%" cy="50%" rx="30%" ry="50%" style="fill:black;" />
				</svg> 
			</li>
			
			<li class="superpose">
				<svg id="sourcilGauche" width="20%" height="20%" >
					  <rect  width="100%" height="5%"  style="fill:white;" />
				</svg> 
			</li >
			
			<li class="superpose">
				<svg id="sourcilDroit" width="20%" height="20%" >
					  <rect  width="100%" height="5%"  style="fill:white;" />
				</svg>  
			</li>
			

	
			</ul>
	</div>
		
	</form>
<script src="js/jquery.js"></script>
<script src="js/switch.js"></script>
<script>



window.onload  = function eye()
{

	var data = $.getJSON("eye.json", function(json) {
	    console.log(json);
		
		var color = json.color;
		var mood = json.mood;


		setTimeout(eye,1000);
		changeCSS("css/" + mood +".css",0);

		document.getElementById("oeilGaucheCouleur").style.fill = color;
		document.getElementById("oeilDroitCouleur").style.fill = color;

	});
}


function changeCSS(cssFile, cssLinkIndex) {

    var oldlink = document.getElementsByTagName("link").item(cssLinkIndex);

    var newlink = document.createElement("link");
    newlink.setAttribute("rel", "stylesheet");
    newlink.setAttribute("type", "text/css");
    newlink.setAttribute("href", cssFile);

    document.getElementsByTagName("head").item(0).replaceChild(newlink, oldlink);
	}
/*
$('script').each(function() {
    if ($(this).attr('src') !== 'eye.json') {
        var old_src = $(this).attr('src');
        $(this).attr('src', '');
        setTimeout(function(){ $(this).attr('src', old_src + '?'+new Date()); }, 250);
    }
});*/

</script>
</body>
</html>